<div xmlns:th="http://www.thymeleaf.org" th:replace="~{/views/layout/index :: dynamic (~{::main})}">
    <main>
        <h2 class="text-center">Change Password</h2>
        <form th:action="@{/admin/users/changePassword}"method="post" class="needs-validation" novalidate>
            <div class="mb-3 mt-3">
                <label class="form-label">User name</label>
                <input type="text" class="form-control" th:value="${#request.remoteUser}" disabled>
            </div>
            <div class="mb-3">
                <label class="form-label">Password:</label>
                <input type="password" name="pass_old" class="form-control" placeholder="Enter password" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Current pass</label>
                <input type="text" name="pass_new" class="form-control" required pattern="[0-9a-zA-Z]{6,}">
                <div class="invalid-feedback">toi thieu 6 ki tu</div>
            </div>
            <div class="mb-3">
                <label class="form-label">Comfirm pass</label>
                <input type="text" name="pass_confirm" class="form-control"required>
            </div>
            <h4 class="text-info" th:text="${message}"></h4>
            <button type="submit" class="btn btn-primary">OK</button>
        </form>
        <script>
            // Self-executing function
            (function() {
                'use strict';
                window.addEventListener('load', function() {
                    // Fetch all the forms we want to apply custom Bootstrap validation styles to
                    var forms = document.getElementsByClassName('needs-validation');

                    // Loop over them and prevent submission
                    var validation = Array.prototype.filter.call(forms, function(form) {
                        form.addEventListener('submit', function(event) {
                            if (form.checkValidity() === false) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                            form.classList.add('was-validated');
                        }, false);
                    });
                }, false);
            })();
        </script>
    </main>
</div>